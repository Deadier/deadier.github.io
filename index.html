<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Cartographie des antennes mobiles</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Bouton d'information -->
    <button id="infoButton">Informations</button>

    <!-- Section d'information masquée -->
    <div id="infoSection">
      <p>
        Cette page permet de compter et visualiser les antennes de téléphonie
        mobile et les pylônes dans une zone spécifique par opérateur. Vous
        pouvez entrer des coordonnées géographiques, un rayon de recherche, et
        choisir entre la Métropole et les Antilles-Guyane. Appuyez sur "Afficher
        les antennes" pour voir les résultats.
      </p>
      <p>
        Attention ! Le nombre d'antennes renvoyées par l'API est limité à 1000
        antennes par génération par opérateur.
      </p>
      <p>
        Données originales téléchargées sur le jeu de données
        <a
          href="https://data.anfr.fr/visualisation/information/?id=observatoire_2g_3g_4g"
          target="_blank"
          >Données sur les réseaux mobiles</a
        >
        de l’ANFR
      </p>

      <!-- Bouton pour récupérer la date de dernière mise à jour du jeu de données de l'ANFR -->
      <button id="updateDateButton">
        Afficher la date de dernière mise à jour du jeu de données de l'ANFR
      </button>
      <p id="lastUpdateDate"></p>
    </div>

    <!-- Formulaire pour la saisie des données -->
    <form id="mapForm">
      <label for="latitude">Latitude :</label>
      <input type="text" id="latitude" name="latitude" required /><br /><br />

      <label for="longitude">Longitude :</label>
      <input type="text" id="longitude" name="longitude" required /><br /><br />

      <!-- Bouton pour la géolocalisation -->
      <input
        type="button"
        value="Utiliser ma position actuelle"
        id="geolocateButton"
      /><br /><br />

      <label for="radius">Rayon (en mètres) :</label>
      <input
        type="number"
        id="radius"
        name="radius"
        value="2500"
        required
      /><br /><br />

      <label for="radius">Zone de recherche :</label><br /><br />
      <div class="region-selector">
        <input
          type="radio"
          id="metropole"
          name="region"
          value="metropole"
          checked
        />
        <label for="metropole" class="region-label">Métropole</label>

        <input type="radio" id="antilles" name="region" value="antilles" />
        <label for="antilles" class="region-label">Antilles-Guyane</label>
      </div>
      <br />

      <input type="submit" value="Afficher les antennes" />
    </form>

    <!-- Tableau de présentation de résultats -->
    <table id="antennasTable">
      <thead>
        <tr>
          <th>Opérateur</th>
          <th>Total d'antennes</th>
          <th>2G</th>
          <th>3G</th>
          <th>4G</th>
          <th>5G</th>
          <th>Nombre de pylônes</th>
        </tr>
      </thead>
      <tbody>
        <!-- Les lignes seront ajoutées dynamiquement ici -->
      </tbody>
    </table>

    <!-- Section pour afficher le nombre total de pylônes -->
    <div id="totalPylonsSection" style="text-align: center; margin-top: 20px">
      <h2>Nombre total de pylônes dans la zone</h2>
      <p id="totalPylons">Patientez, chargement en cours ...</p>
    </div>

    <script src="script.js"></script>
  </body>
</html>
